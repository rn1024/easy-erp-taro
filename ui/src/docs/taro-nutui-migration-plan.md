# Taro + NutUI è¿ç§»æ–¹æ¡ˆ

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

### å½“å‰æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: Next.js 14 + React 18
- **æ ·å¼**: Tailwind CSS V4 + è‡ªå®šä¹‰CSS
- **ç»„ä»¶åº“**: shadcn/ui + è‡ªå®šä¹‰ç»„ä»¶
- **å›¾æ ‡**: Lucide React
- **ç±»å‹ç³»ç»Ÿ**: TypeScript
- **æ„å»ºå·¥å…·**: Next.jså†…ç½®Webpack

### ç›®æ ‡æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: Taro 3.x + React
- **æ ·å¼**: NutUI + Taroæ ·å¼ç³»ç»Ÿ
- **ç»„ä»¶åº“**: NutUI 4.x (Reactç‰ˆæœ¬)
- **å›¾æ ‡**: NutUIå†…ç½®å›¾æ ‡ + Iconfont
- **ç±»å‹ç³»ç»Ÿ**: TypeScript
- **æ„å»ºå·¥å…·**: Taro CLI + Webpack

## ğŸ¯ è¿ç§»ç›®æ ‡

### æ ¸å¿ƒç›®æ ‡
1. **ä¿æŒä¸šåŠ¡é€»è¾‘100%ä¸å˜**
2. **UIè®¾è®¡é£æ ¼95%ä»¥ä¸Šç›¸ä¼¼åº¦**
3. **æ”¯æŒå¤šç«¯éƒ¨ç½²** (å¾®ä¿¡å°ç¨‹åºã€H5ã€æ”¯ä»˜å®å°ç¨‹åº)
4. **æ€§èƒ½ä¼˜åŒ–** (å°ç¨‹åºç¯å¢ƒä¸‹çš„æ€§èƒ½ä¼˜åŒ–)
5. **å¼€å‘æ•ˆç‡æå‡** (ç»Ÿä¸€çš„å¤šç«¯å¼€å‘ä½“éªŒ)

### æŠ€æœ¯æ”¶ç›Š
- ä¸€å¥—ä»£ç ï¼Œå¤šç«¯è¿è¡Œ
- æ›´å¥½çš„å°ç¨‹åºæ€§èƒ½å’Œä½“éªŒ
- æ›´ä¸°å¯Œçš„å°ç¨‹åºAPIæ”¯æŒ
- æ›´æ ‡å‡†åŒ–çš„ç»„ä»¶åº“

## ğŸ“Š æŠ€æœ¯æ ˆå¯¹æ¯”åˆ†æ

### æ¡†æ¶å±‚é¢

| ç‰¹æ€§ | Next.js + React | Taro + React | è¿ç§»å½±å“ |
|------|-----------------|--------------|----------|
| ç»„ä»¶å¼€å‘ | Reactç»„ä»¶ | Reactç»„ä»¶ | âœ… æ— å½±å“ |
| è·¯ç”±ç³»ç»Ÿ | App Router | Taro Router | ğŸ”„ éœ€è¦è°ƒæ•´ |
| çŠ¶æ€ç®¡ç† | React Hooks | React Hooks | âœ… æ— å½±å“ |
| ç”Ÿå‘½å‘¨æœŸ | Reactç”Ÿå‘½å‘¨æœŸ | React + å°ç¨‹åºç”Ÿå‘½å‘¨æœŸ | ğŸ”„ éœ€è¦é€‚é… |
| æ ·å¼ç³»ç»Ÿ | Tailwind CSS | NutUI + CSS-in-JS | ğŸ”„ éœ€è¦é‡å†™ |
| æ„å»ºéƒ¨ç½² | Vercel/Netlify | å¤šç«¯ç¼–è¯‘ | ğŸ”„ å®Œå…¨ä¸åŒ |

### ç»„ä»¶åº“å¯¹æ¯”

| åŠŸèƒ½æ¨¡å— | å½“å‰å®ç° | NutUIæ›¿ä»£æ–¹æ¡ˆ | è¿ç§»å¤æ‚åº¦ |
|----------|----------|---------------|------------|
| å¸ƒå±€å®¹å™¨ | MobileLayout | Layout, SafeArea | ğŸŸ¡ ä¸­ç­‰ |
| å¯¼èˆªæ  | TopNavigation | NavBar, SearchBar | ğŸŸ¡ ä¸­ç­‰ |
| æ ‡ç­¾é¡µ | BottomNavigation | TabBar, Tabs | ğŸŸ¢ ç®€å• |
| ä»»åŠ¡å¡ç‰‡ | TaskCard | Card, Cell | ğŸŸ¡ ä¸­ç­‰ |
| è¡¨å•ç»„ä»¶ | è‡ªå®šä¹‰ + shadcn | Form, Input, Button ç­‰ | ğŸŸ¡ ä¸­ç­‰ |
| å¼¹çª—ç»„ä»¶ | Modal | Dialog, Popup | ğŸŸ¢ ç®€å• |
| åˆ—è¡¨ç»„ä»¶ | è‡ªå®šä¹‰ | VirtualList, InfiniteLoading | ğŸŸ¡ ä¸­ç­‰ |
| å›¾æ ‡ç»„ä»¶ | Lucide React | NutUI Icons + Iconfont | ğŸ”´ å¤æ‚ |

## ğŸ—‚ï¸ é¡¹ç›®ç»“æ„å¯¹æ¯”

### å½“å‰Next.jsç»“æ„
```
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/              # Next.js App Router
â”‚   â”œâ”€â”€ components/       # Reactç»„ä»¶
â”‚   â”œâ”€â”€ styles/          # æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ types/           # TypeScriptç±»å‹
â”‚   â”œâ”€â”€ utils/           # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ hooks/           # React Hooks
â”œâ”€â”€ public/              # é™æ€èµ„æº
â””â”€â”€ styles/              # å…¨å±€æ ·å¼
```

### ç›®æ ‡Taroç»“æ„
```
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app.config.ts     # å…¨å±€é…ç½®
â”‚   â”œâ”€â”€ app.tsx          # å…¨å±€å…¥å£
â”‚   â”œâ”€â”€ pages/           # é¡µé¢ç›®å½•
â”‚   â”‚   â”œâ”€â”€ index/       # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ tasks/       # ä»»åŠ¡é¡µé¢
â”‚   â”‚   â”œâ”€â”€ create/      # åˆ›å»ºé¡µé¢
â”‚   â”‚   â”œâ”€â”€ messages/    # æ¶ˆæ¯é¡µé¢
â”‚   â”‚   â””â”€â”€ profile/     # ä¸ªäººä¸­å¿ƒ
â”‚   â”œâ”€â”€ components/      # å…¬å…±ç»„ä»¶
â”‚   â”œâ”€â”€ utils/           # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ types/           # TypeScriptç±»å‹
â”‚   â”œâ”€â”€ services/        # APIæœåŠ¡
â”‚   â”œâ”€â”€ stores/          # çŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ styles/          # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ dist/                # ç¼–è¯‘è¾“å‡º
â””â”€â”€ config/              # ç¼–è¯‘é…ç½®
```

## ğŸ”„ è¯¦ç»†è¿ç§»æ­¥éª¤

### ç¬¬ä¸€é˜¶æ®µï¼šç¯å¢ƒæ­å»º (1-2å¤©)

#### 1.1 åˆå§‹åŒ–Taroé¡¹ç›®
```bash
# å®‰è£…Taro CLI
npm install -g @tarojs/cli

# åˆ›å»ºæ–°é¡¹ç›®
taro init wechat-task-management --typescript

# å®‰è£…NutUI
cd wechat-task-management
npm install @nutui/nutui-react-taro
```

#### 1.2 é…ç½®å¼€å‘ç¯å¢ƒ
```typescript
// config/index.js
const config = {
  projectName: 'wechat-task-management',
  date: '2025-1-11',
  designWidth: 375, // è®¾è®¡ç¨¿å®½åº¦
  deviceRatio: {
    640: 2.34 / 2,
    750: 1,
    828: 1.81 / 2,
    375: 2 / 1  // é€‚é…iPhone
  },
  sourceRoot: 'src',
  outputRoot: 'dist',
  plugins: [
    '@nutui/nutui-react-taro/dist/babel'
  ],
  defineConstants: {},
  copy: {
    patterns: [],
    options: {}
  },
  framework: 'react',
  compiler: 'webpack5',
  mini: {
    postcss: {
      pxtransform: {
        enable: true,
        config: {
          selectorBlackList: ['nut-']  // å¿½ç•¥NutUIçš„pxè½¬æ¢
        }
      }
    }
  },
  h5: {
    publicPath: '/',
    staticDirectory: 'static',
    postcss: {
      autoprefixer: {
        enable: true
      }
    }
  }
}
```

### ç¬¬äºŒé˜¶æ®µï¼šåŸºç¡€æ¶æ„è¿ç§» (3-5å¤©)

#### 2.1 ç±»å‹å®šä¹‰è¿ç§»
```typescript
// src/types/index.ts (ä¿æŒä¸å˜)
export interface Task {
  id: string
  title: string
  description: string
  status: TaskStatus
  priority: TaskPriority
  assignee: User
  dueDate: string
  // ... å…¶ä»–å±æ€§ä¿æŒä¸å˜
}
```

#### 2.2 å·¥å…·å‡½æ•°è¿ç§»
```typescript
// src/utils/index.ts
import Taro from '@tarojs/taro'

// å¤§éƒ¨åˆ†å·¥å…·å‡½æ•°å¯ä»¥ç›´æ¥è¿ç§»
export function formatDate(date: string | Date): string {
  // å®ç°ä¿æŒä¸å˜
}

// éœ€è¦é€‚é…çš„å‡½æ•°
export function showToast(message: string) {
  return Taro.showToast({
    title: message,
    icon: 'none'
  })
}

export function getStorageItem<T>(key: string): Promise<T | null> {
  return Taro.getStorage({ key })
    .then(res => res.data)
    .catch(() => null)
}
```

#### 2.3 å…¨å±€é…ç½®
```typescript
// src/app.config.ts
export default defineAppConfig({
  pages: [
    'pages/index/index',
    'pages/tasks/index',
    'pages/create/index',
    'pages/messages/index',
    'pages/profile/index'
  ],
  window: {
    backgroundTextStyle: 'light',
    navigationBarBackgroundColor: '#fff',
    navigationBarTitleText: 'ä»»åŠ¡ç®¡ç†',
    navigationBarTextStyle: 'black',
    backgroundColor: '#f5f5f7'
  },
  tabBar: {
    color: '#999999',
    selectedColor: '#07c160',
    backgroundColor: '#ffffff',
    borderStyle: 'white',
    list: [
      {
        pagePath: 'pages/index/index',
        iconPath: 'assets/icons/home.png',
        selectedIconPath: 'assets/icons/home-active.png',
        text: 'é¦–é¡µ'
      },
      {
        pagePath: 'pages/tasks/index',
        iconPath: 'assets/icons/tasks.png',
        selectedIconPath: 'assets/icons/tasks-active.png',
        text: 'ä»»åŠ¡'
      },
      {
        pagePath: 'pages/create/index',
        iconPath: 'assets/icons/create.png',
        selectedIconPath: 'assets/icons/create-active.png',
        text: 'åˆ›å»º'
      },
      {
        pagePath: 'pages/messages/index',
        iconPath: 'assets/icons/messages.png',
        selectedIconPath: 'assets/icons/messages-active.png',
        text: 'æ¶ˆæ¯'
      },
      {
        pagePath: 'pages/profile/index',
        iconPath: 'assets/icons/profile.png',
        selectedIconPath: 'assets/icons/profile-active.png',
        text: 'æˆ‘çš„'
      }
    ]
  }
})
```

### ç¬¬ä¸‰é˜¶æ®µï¼šç»„ä»¶åº“è¿ç§» (5-8å¤©)

#### 3.1 åŸºç¡€ç»„ä»¶æ˜ å°„è¡¨

| å½“å‰ç»„ä»¶ | NutUIç»„ä»¶ | è¿ç§»æ–¹æ¡ˆ |
|----------|-----------|----------|
| MobileLayout | `<SafeArea>` + `<Layout>` | åŒ…è£…ç»„ä»¶ |
| TopNavigation | `<NavBar>` + `<SearchBar>` | é‡æ„å®ç° |
| BottomNavigation | `<TabBar>` (ä½¿ç”¨TaroåŸç”ŸTabBar) | é…ç½®è¿ç§» |
| TaskCard | `<Card>` + `<Cell>` | é‡æ„UI |
| Modal | `<Dialog>` / `<Popup>` | ç›´æ¥æ›¿æ¢ |
| Button | `<Button>` | ç›´æ¥æ›¿æ¢ |
| Input | `<Input>` | ç›´æ¥æ›¿æ¢ |
| Form | `<Form>` + `<FormItem>` | é‡æ„è¡¨å• |

#### 3.2 æ ·å¼ç³»ç»Ÿè¿ç§»

```typescript
// src/styles/variables.ts
export const DESIGN_TOKENS = {
  colors: {
    primary: '#07c160',
    secondary: '#576b95', 
    success: '#07c160',
    warning: '#fa9d3b',
    error: '#fa5151',
    info: '#10aeff',
    background: '#f5f5f7',
    surface: '#ffffff',
    text: {
      primary: '#1f2937',
      secondary: '#888888',
      disabled: '#c9c9c9'
    }
  },
  spacing: {
    xs: '4px',
    sm: '8px', 
    md: '16px',
    lg: '24px',
    xl: '32px'
  },
  radius: {
    sm: '4px',
    md: '8px',
    lg: '12px'
  }
}
```

```scss
// src/styles/globals.scss
@import '@nutui/nutui-react-taro/dist/style.css';

// è¦†ç›–NutUIä¸»é¢˜å˜é‡
:root {
  --nut-primary-color: #07c160;
  --nut-primary-color-end: #07c160;
  --nut-help-color: #888888;
  --nut-title-color: #1f2937;
  --nut-text-color: #1f2937;
  --nut-disable-color: #c9c9c9;
  --nut-border-color: #e4e4e7;
  --nut-font-size-small: 12px;
  --nut-font-size-base: 14px;
  --nut-font-size-large: 16px;
}

// ä¿æŒç°æœ‰çš„WeChaté£æ ¼
.wechat-container {
  max-width: 375px;
  margin: 0 auto;
  min-height: 100vh;
  background-color: #f5f5f7;
}

.wechat-card {
  background: #ffffff;
  border-radius: 8px;
  margin: 8px 16px;
  overflow: hidden;
}

.wechat-section {
  background: #f8fafc;
  border-radius: 12px;
  padding: 16px;
  margin: 8px 0;
}
```

#### 3.3 æ ¸å¿ƒç»„ä»¶è¿ç§»ç¤ºä¾‹

**TopNavigationç»„ä»¶è¿ç§»:**
```tsx
// src/components/TopNavigation/index.tsx
import React, { useState } from 'react'
import { View } from '@tarojs/components'
import { NavBar, SearchBar, Popup, Button, Form, FormItem, Input, Radio } from '@nutui/nutui-react-taro'
import Taro from '@tarojs/taro'

interface TopNavigationProps {
  onSearch: (query: string) => void
  onFilter: (filters: any) => void
  activeFilters: number
}

export const TopNavigation: React.FC<TopNavigationProps> = ({
  onSearch,
  onFilter,
  activeFilters
}) => {
  const [showFilter, setShowFilter] = useState(false)
  const [filterForm, setFilterForm] = useState({
    status: '',
    priority: '',
    assignee: '',
    dateRange: ''
  })

  const handleBack = () => {
    Taro.navigateBack()
  }

  const handleSearch = (value: string) => {
    onSearch(value)
  }

  const handleFilterConfirm = () => {
    onFilter(filterForm)
    setShowFilter(false)
  }

  return (
    <View className="top-navigation">
      <NavBar
        back={<></>}
        right={
          <Button 
            size="small" 
            type="primary" 
            fill="outline"
            onClick={() => setShowFilter(true)}
          >
            ç­›é€‰ {activeFilters > 0 && `(${activeFilters})`}
          </Button>
        }
      >
        ä»»åŠ¡ç®¡ç†
      </NavBar>
      
      <SearchBar
        placeholder="æœç´¢ä»»åŠ¡..."
        onSearch={handleSearch}
        onInputClick={() => {}}
        background="white"
      />

      <Popup
        visible={showFilter}
        position="bottom"
        onClose={() => setShowFilter(false)}
        title="ç­›é€‰æ¡ä»¶"
      >
        <Form>
          <FormItem label="çŠ¶æ€">
            <Radio.Group
              value={filterForm.status}
              onChange={(value) => setFilterForm({...filterForm, status: value})}
            >
              <Radio value="">å…¨éƒ¨</Radio>
              <Radio value="pending">å¾…å¤„ç†</Radio>
              <Radio value="progress">è¿›è¡Œä¸­</Radio>
              <Radio value="completed">å·²å®Œæˆ</Radio>
            </Radio.Group>
          </FormItem>
          
          <FormItem label="ä¼˜å…ˆçº§">
            <Radio.Group
              value={filterForm.priority}
              onChange={(value) => setFilterForm({...filterForm, priority: value})}
            >
              <Radio value="">å…¨éƒ¨</Radio>
              <Radio value="high">é«˜</Radio>
              <Radio value="medium">ä¸­</Radio>
              <Radio value="low">ä½</Radio>
            </Radio.Group>
          </FormItem>
        </Form>
        
        <View className="filter-actions">
          <Button 
            block 
            type="primary"
            onClick={handleFilterConfirm}
          >
            ç¡®è®¤ç­›é€‰
          </Button>
        </View>
      </Popup>
    </View>
  )
}

export default TopNavigation
```

**TaskCardç»„ä»¶è¿ç§»:**
```tsx
// src/components/TaskCard/index.tsx
import React from 'react'
import { View } from '@tarojs/components'
import { Card, Tag, Avatar, Progress } from '@nutui/nutui-react-taro'
import { User } from '@nutui/icons-react-taro'
import { Task } from '../../types'

interface TaskCardProps {
  task: Task
  onTaskClick: (task: Task) => void
}

export const TaskCard: React.FC<TaskCardProps> = ({ task, onTaskClick }) => {
  const getStatusColor = (status: string) => {
    const colorMap = {
      pending: 'warning',
      progress: 'primary', 
      completed: 'success',
      rejected: 'danger'
    }
    return colorMap[status] || 'default'
  }

  const getPriorityColor = (priority: string) => {
    const colorMap = {
      high: 'danger',
      medium: 'warning',
      low: 'success'
    }
    return colorMap[priority] || 'default'
  }

  return (
    <Card
      className="task-card"
      onClick={() => onTaskClick(task)}
    >
      <View className="task-header">
        <View className="task-title-row">
          <View className="task-title">{task.title}</View>
          <Tag type={getStatusColor(task.status)} size="small">
            {getStatusText(task.status)}
          </Tag>
        </View>
        <View className="task-meta">
          <Tag type={getPriorityColor(task.priority)} size="small">
            {getPriorityText(task.priority)}
          </Tag>
          <View className="task-due-date">
            {formatDate(task.dueDate)}
          </View>
        </View>
      </View>

      <View className="task-description">
        {task.description}
      </View>

      <View className="task-footer">
        <View className="task-assignee">
          <Avatar 
            size="small" 
            src={task.assignee.avatar}
            icon={<User />}
          />
          <View className="assignee-name">{task.assignee.name}</View>
        </View>
        
        <View className="task-progress">
          <Progress 
            percentage={calculateProgress(task.workflow.currentStep, task.workflow.totalSteps)}
            size="small"
            showText={false}
          />
          <View className="progress-text">
            {task.workflow.currentStep}/{task.workflow.totalSteps}
          </View>
        </View>
      </View>
    </Card>
  )
}

// å·¥å…·å‡½æ•°
function getStatusText(status: string): string {
  const statusMap = {
    pending: 'å¾…å¤„ç†',
    progress: 'è¿›è¡Œä¸­', 
    completed: 'å·²å®Œæˆ',
    rejected: 'å·²æ‹’ç»'
  }
  return statusMap[status] || status
}

function getPriorityText(priority: string): string {
  const priorityMap = {
    high: 'é«˜ä¼˜å…ˆçº§',
    medium: 'ä¸­ä¼˜å…ˆçº§',
    low: 'ä½ä¼˜å…ˆçº§'
  }
  return priorityMap[priority] || priority
}

function calculateProgress(current: number, total: number): number {
  return Math.round((current / total) * 100)
}

function formatDate(dateStr: string): string {
  const date = new Date(dateStr)
  const now = new Date()
  const diffDays = Math.floor((date.getTime() - now.getTime()) / (1000 * 60 * 60 * 24))
  
  if (diffDays === 0) return 'ä»Šå¤©'
  if (diffDays === 1) return 'æ˜å¤©'
  if (diffDays === -1) return 'æ˜¨å¤©'
  if (diffDays > 0) return `${diffDays}å¤©å`
  return `${Math.abs(diffDays)}å¤©å‰`
}

export default TaskCard
```

### ç¬¬å››é˜¶æ®µï¼šé¡µé¢ç»“æ„è¿ç§» (3-5å¤©)

#### 4.1 é¡µé¢é…ç½®è¿ç§»
```typescript
// src/pages/index/index.config.ts
export default definePageConfig({
  navigationBarTitleText: 'é¦–é¡µ',
  navigationStyle: 'default',
  backgroundColor: '#f5f5f7'
})
```

#### 4.2 ä¸»é¡µé¢è¿ç§»
```tsx
// src/pages/index/index.tsx
import React, { useState, useEffect } from 'react'
import { View } from '@tarojs/components'
import Taro, { useDidShow, useReady } from '@tarojs/taro'
import { PullToRefresh } from '@nutui/nutui-react-taro'

import TopNavigation from '../../components/TopNavigation'
import TaskCard from '../../components/TaskCard'
import WorkflowOverview from '../../components/WorkflowOverview'
import QuickActions from '../../components/QuickActions'

import { MOCK_TASKS, MOCK_STATS } from '../../constants/mockData'
import { Task } from '../../types'

import './index.scss'

export default function Index() {
  const [tasks, setTasks] = useState<Task[]>(MOCK_TASKS)
  const [filteredTasks, setFilteredTasks] = useState<Task[]>(MOCK_TASKS)
  const [activeFilters, setActiveFilters] = useState(0)
  const [refreshing, setRefreshing] = useState(false)

  useDidShow(() => {
    // é¡µé¢æ˜¾ç¤ºæ—¶çš„é€»è¾‘
    console.log('é¡µé¢æ˜¾ç¤º')
  })

  useReady(() => {
    // é¡µé¢åˆå§‹åŒ–å®Œæˆ
    console.log('é¡µé¢åˆå§‹åŒ–å®Œæˆ')
  })

  const handleSearch = (query: string) => {
    if (!query.trim()) {
      setFilteredTasks(tasks)
      return
    }
    
    const filtered = tasks.filter(task => 
      task.title.toLowerCase().includes(query.toLowerCase()) ||
      task.description.toLowerCase().includes(query.toLowerCase()) ||
      task.assignee.name.toLowerCase().includes(query.toLowerCase())
    )
    setFilteredTasks(filtered)
  }

  const handleFilter = (filters: any) => {
    let filtered = [...tasks]
    let filterCount = 0

    // ç­›é€‰é€»è¾‘ä¿æŒä¸å˜
    if (filters.status) {
      filtered = filtered.filter(task => task.status === filters.status)
      filterCount++
    }
    
    if (filters.priority) {
      filtered = filtered.filter(task => task.priority === filters.priority)
      filterCount++
    }

    setFilteredTasks(filtered)
    setActiveFilters(filterCount)
  }

  const handleTaskClick = (task: Task) => {
    Taro.navigateTo({
      url: `/pages/taskDetail/index?id=${task.id}`
    })
  }

  const handleQuickAction = (actionId: string) => {
    switch (actionId) {
      case 'create_workflow':
        Taro.switchTab({ url: '/pages/create/index' })
        break
      case 'my_tasks':
        Taro.switchTab({ url: '/pages/tasks/index' })
        break
      // ... å…¶ä»–æ“ä½œ
    }
  }

  const handleRefresh = async () => {
    setRefreshing(true)
    try {
      // æ¨¡æ‹Ÿæ•°æ®åˆ·æ–°
      await new Promise(resolve => setTimeout(resolve, 1000))
      // è¿™é‡Œè°ƒç”¨å®é™…çš„APIåˆ·æ–°æ•°æ®
      Taro.showToast({ title: 'åˆ·æ–°æˆåŠŸ', icon: 'success' })
    } catch (error) {
      Taro.showToast({ title: 'åˆ·æ–°å¤±è´¥', icon: 'error' })
    } finally {
      setRefreshing(false)
    }
  }

  return (
    <View className="index-page">
      <TopNavigation 
        onSearch={handleSearch}
        onFilter={handleFilter}
        activeFilters={activeFilters}
      />
      
      <PullToRefresh
        onRefresh={handleRefresh}
        loading={refreshing}
      >
        <View className="page-content">
          <WorkflowOverview stats={MOCK_STATS} />
          <QuickActions onActionClick={handleQuickAction} />
          
          <View className="task-list-section">
            <View className="section-title">
              æˆ‘çš„ä»»åŠ¡ ({filteredTasks.length})
            </View>
            
            {filteredTasks.map(task => (
              <TaskCard 
                key={task.id}
                task={task}
                onTaskClick={handleTaskClick}
              />
            ))}
            
            {filteredTasks.length === 0 && (
              <View className="empty-state">
                <View className="empty-icon">ğŸ“</View>
                <View className="empty-text">æš‚æ— ç¬¦åˆæ¡ä»¶çš„ä»»åŠ¡</View>
              </View>
            )}
          </View>
        </View>
      </PullToRefresh>
    </View>
  )
}
```

### ç¬¬äº”é˜¶æ®µï¼šAPIæœåŠ¡è¿ç§» (2-3å¤©)

#### 5.1 APIæœåŠ¡å±‚
```typescript
// src/services/api.ts
import Taro from '@tarojs/taro'

const BASE_URL = 'https://api.your-domain.com'

class ApiService {
  private async request<T>(options: {
    url: string
    method?: 'GET' | 'POST' | 'PUT' | 'DELETE'
    data?: any
    header?: Record<string, string>
  }): Promise<T> {
    try {
      const response = await Taro.request({
        url: BASE_URL + options.url,
        method: options.method || 'GET',
        data: options.data,
        header: {
          'Content-Type': 'application/json',
          ...options.header
        }
      })
      
      if (response.statusCode === 200) {
        return response.data
      } else {
        throw new Error(`API Error: ${response.statusCode}`)
      }
    } catch (error) {
      console.error('API Request failed:', error)
      throw error
    }
  }

  // ä»»åŠ¡ç›¸å…³API
  async getTasks(params?: any) {
    return this.request({
      url: '/tasks',
      method: 'GET',
      data: params
    })
  }

  async createTask(taskData: any) {
    return this.request({
      url: '/tasks',
      method: 'POST',
      data: taskData
    })
  }

  async updateTask(id: string, taskData: any) {
    return this.request({
      url: `/tasks/${id}`,
      method: 'PUT',
      data: taskData
    })
  }

  // å·¥ä½œæµç›¸å…³API
  async getWorkflows() {
    return this.request({
      url: '/workflows',
      method: 'GET'
    })
  }

  // ç”¨æˆ·ç›¸å…³API
  async getUserProfile() {
    return this.request({
      url: '/user/profile',
      method: 'GET'
    })
  }
}

export const apiService = new ApiService()
export default apiService
```

#### 5.2 çŠ¶æ€ç®¡ç† (ä½¿ç”¨Zustand)
```typescript
// src/stores/taskStore.ts
import { create } from 'zustand'
import { Task } from '../types'
import { apiService } from '../services/api'

interface TaskStore {
  tasks: Task[]
  loading: boolean
  error: string | null
  
  fetchTasks: () => Promise<void>
  createTask: (taskData: Partial<Task>) => Promise<void>
  updateTask: (id: string, taskData: Partial<Task>) => Promise<void>
  deleteTask: (id: string) => Promise<void>
}

export const useTaskStore = create<TaskStore>((set, get) => ({
  tasks: [],
  loading: false,
  error: null,

  fetchTasks: async () => {
    set({ loading: true, error: null })
    try {
      const tasks = await apiService.getTasks()
      set({ tasks, loading: false })
    } catch (error) {
      set({ error: error.message, loading: false })
    }
  },

  createTask: async (taskData) => {
    set({ loading: true, error: null })
    try {
      const newTask = await apiService.createTask(taskData)
      set({ 
        tasks: [...get().tasks, newTask],
        loading: false 
      })
    } catch (error) {
      set({ error: error.message, loading: false })
    }
  },

  updateTask: async (id, taskData) => {
    set({ loading: true, error: null })
    try {
      const updatedTask = await apiService.updateTask(id, taskData)
      set({
        tasks: get().tasks.map(task => 
          task.id === id ? updatedTask : task
        ),
        loading: false
      })
    } catch (error) {
      set({ error: error.message, loading: false })
    }
  },

  deleteTask: async (id) => {
    set({ loading: true, error: null })
    try {
      await apiService.deleteTask(id)
      set({
        tasks: get().tasks.filter(task => task.id !== id),
        loading: false
      })
    } catch (error) {
      set({ error: error.message, loading: false })
    }
  }
}))
```

## âš ï¸ é£é™©è¯„ä¼°ä¸è§£å†³æ–¹æ¡ˆ

### é«˜é£é™©é¡¹ (ğŸ”´)

#### 1. å›¾æ ‡ç³»ç»Ÿå·®å¼‚
**é£é™©**: Lucide Reactå›¾æ ‡ä¸NutUIå›¾æ ‡åº“å·®å¼‚å·¨å¤§
**è§£å†³æ–¹æ¡ˆ**:
- ä½¿ç”¨Iconfontè‡ªå®šä¹‰å›¾æ ‡åº“
- åˆ›å»ºå›¾æ ‡æ˜ å°„è¡¨
- ä¿æŒè§†è§‰ä¸€è‡´æ€§

```typescript
// src/components/Icon/index.tsx
import React from 'react'
import { View } from '@tarojs/components'

interface IconProps {
  name: string
  size?: number
  color?: string
  className?: string
}

export const Icon: React.FC<IconProps> = ({ 
  name, 
  size = 16, 
  color = '#333',
  className 
}) => {
  return (
    <View 
      className={`iconfont icon-${name} ${className}`}
      style={{ 
        fontSize: `${size}px`, 
        color: color 
      }}
    />
  )
}
```

#### 2. è·¯ç”±ç³»ç»Ÿé‡æ„
**é£é™©**: Next.js App Routerä¸Taroè·¯ç”±å®Œå…¨ä¸åŒ
**è§£å†³æ–¹æ¡ˆ**:
- åˆ›å»ºè·¯ç”±æ˜ å°„è¡¨
- ç»Ÿä¸€è·¯ç”±ç®¡ç†å·¥å…·
- æ¸è¿›å¼è¿ç§»

```typescript
// src/utils/router.ts
import Taro from '@tarojs/taro'

export const AppRouter = {
  // æ ‡ç­¾é¡µè·¯ç”±
  switchTab: (url: string) => {
    return Taro.switchTab({ url })
  },
  
  // æ™®é€šé¡µé¢è·¯ç”±
  navigateTo: (url: string, params?: Record<string, any>) => {
    const queryString = params ? 
      '?' + Object.entries(params)
        .map(([key, value]) => `${key}=${encodeURIComponent(value)}`)
        .join('&') : ''
    
    return Taro.navigateTo({ url: url + queryString })
  },
  
  // è¿”å›ä¸Šä¸€é¡µ
  navigateBack: (delta = 1) => {
    return Taro.navigateBack({ delta })
  },
  
  // é‡å®šå‘
  redirectTo: (url: string) => {
    return Taro.redirectTo({ url })
  }
}
```

### ä¸­é£é™©é¡¹ (ğŸŸ¡)

#### 1. æ ·å¼ç³»ç»Ÿé‡æ„
**é£é™©**: Tailwind CSSåˆ°NutUIæ ·å¼ç³»ç»Ÿçš„è½¬æ¢
**è§£å†³æ–¹æ¡ˆ**:
- ä¿ç•™æ ¸å¿ƒè®¾è®¡Token
- åˆ›å»ºæ ·å¼æ˜ å°„å·¥å…·
- ä½¿ç”¨CSSå˜é‡ä¿æŒä¸€è‡´æ€§

#### 2. çŠ¶æ€ç®¡ç†è¿ç§»
**é£é™©**: React Contextåˆ°å…¨å±€çŠ¶æ€ç®¡ç†çš„è¿ç§»
**è§£å†³æ–¹æ¡ˆ**:
- å¼•å…¥Zustandè½»é‡çº§çŠ¶æ€ç®¡ç†
- ä¿æŒç°æœ‰çŠ¶æ€ç»“æ„
- æ¸è¿›å¼è¿ç§»

### ä½é£é™©é¡¹ (ğŸŸ¢)

#### 1. ä¸šåŠ¡é€»è¾‘ä¿æŒ
**ä¼˜åŠ¿**: Reactç»„ä»¶é€»è¾‘å®Œå…¨ä¸€è‡´
**ç­–ç•¥**: ç›´æ¥å¤ç”¨æ‰€æœ‰ä¸šåŠ¡é€»è¾‘ä»£ç 

#### 2. TypeScriptç±»å‹
**ä¼˜åŠ¿**: ç±»å‹å®šä¹‰å®Œå…¨å…¼å®¹
**ç­–ç•¥**: ç›´æ¥è¿ç§»æ‰€æœ‰ç±»å‹å®šä¹‰

## ğŸ“… è¿ç§»æ—¶é—´è§„åˆ’

### æ€»ä½“æ—¶é—´: 15-20ä¸ªå·¥ä½œæ—¥

| é˜¶æ®µ | å·¥ä½œå†…å®¹ | æ—¶é—´ | è´Ÿè´£äºº | äº¤ä»˜ç‰© |
|------|----------|------|--------|--------|
| ç¬¬1é˜¶æ®µ | ç¯å¢ƒæ­å»º | 1-2å¤© | å‰ç«¯æ¶æ„å¸ˆ | åŸºç¡€é¡¹ç›®æ¡†æ¶ |
| ç¬¬2é˜¶æ®µ | åŸºç¡€æ¶æ„è¿ç§» | 3-5å¤© | å‰ç«¯å¼€å‘è€… | ç±»å‹ã€å·¥å…·ã€é…ç½® |
| ç¬¬3é˜¶æ®µ | ç»„ä»¶åº“è¿ç§» | 5-8å¤© | UIå¼€å‘è€… | æ‰€æœ‰UIç»„ä»¶ |
| ç¬¬4é˜¶æ®µ | é¡µé¢ç»“æ„è¿ç§» | 3-5å¤© | å‰ç«¯å¼€å‘è€… | æ‰€æœ‰é¡µé¢ |
| ç¬¬5é˜¶æ®µ | APIæœåŠ¡è¿ç§» | 2-3å¤© | åç«¯è”è°ƒ | å®Œæ•´åŠŸèƒ½ |
| æµ‹è¯•é˜¶æ®µ | å¤šç«¯æµ‹è¯• | 2-3å¤© | æµ‹è¯•å·¥ç¨‹å¸ˆ | æµ‹è¯•æŠ¥å‘Š |

### é‡Œç¨‹ç¢‘æ£€æŸ¥ç‚¹

- [ ] **ç¬¬ä¸€å‘¨æœ«**: åŸºç¡€æ¡†æ¶æ­å»ºå®Œæˆï¼Œæ ¸å¿ƒç»„ä»¶è¿ç§»å®Œæˆ
- [ ] **ç¬¬äºŒå‘¨æœ«**: æ‰€æœ‰é¡µé¢è¿ç§»å®Œæˆï¼ŒåŸºæœ¬åŠŸèƒ½å¯ç”¨
- [ ] **ç¬¬ä¸‰å‘¨æœ«**: å®Œæ•´åŠŸèƒ½æµ‹è¯•é€šè¿‡ï¼Œæ€§èƒ½ä¼˜åŒ–å®Œæˆ

## ğŸ¯ è´¨é‡ä¿è¯ç­–ç•¥

### åŠŸèƒ½ä¸€è‡´æ€§æ£€æŸ¥
1. **ä¸šåŠ¡åŠŸèƒ½å¯¹æ¯”æµ‹è¯•**
   - ä»»åŠ¡åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤åŠŸèƒ½
   - å·¥ä½œæµç¨‹ç®¡ç†åŠŸèƒ½
   - ç”¨æˆ·æƒé™å’Œè®¾ç½®åŠŸèƒ½
   - æ¶ˆæ¯é€šçŸ¥åŠŸèƒ½

2. **UI/UXä¸€è‡´æ€§æ£€æŸ¥**
   - è§†è§‰è®¾è®¡95%ä»¥ä¸Šç›¸ä¼¼åº¦
   - äº¤äº’æµç¨‹ä¿æŒä¸€è‡´
   - åŠ¨ç”»æ•ˆæœé€‚é…å°ç¨‹åºç¯å¢ƒ
   - å“åº”å¼å¸ƒå±€åœ¨å„ç«¯è¡¨ç°ä¸€è‡´

### æ€§èƒ½ä¼˜åŒ–
1. **å°ç¨‹åºæ€§èƒ½ä¼˜åŒ–**
   - é¡µé¢åŠ è½½æ—¶é—´ < 2ç§’
   - é¦–å±æ¸²æŸ“æ—¶é—´ < 1ç§’
   - å†…å­˜ä½¿ç”¨æ§åˆ¶åœ¨åˆç†èŒƒå›´
   - ç½‘ç»œè¯·æ±‚ä¼˜åŒ–

2. **å¤šç«¯å…¼å®¹æ€§**
   - å¾®ä¿¡å°ç¨‹åºæ­£å¸¸è¿è¡Œ
   - H5é¡µé¢æ­£å¸¸è¿è¡Œ
   - æ”¯ä»˜å®å°ç¨‹åºé€‚é…
   - ä¸åŒè®¾å¤‡å°ºå¯¸é€‚é…

### è‡ªåŠ¨åŒ–æµ‹è¯•
```typescript
// src/__tests__/components/TaskCard.test.tsx
import React from 'react'
import { render, fireEvent } from '@testing-library/react'
import TaskCard from '../components/TaskCard'
import { MOCK_TASKS } from '../constants/mockData'

describe('TaskCard Component', () => {
  const mockTask = MOCK_TASKS[0]
  const mockOnClick = jest.fn()

  test('renders task information correctly', () => {
    const { getByText } = render(
      <TaskCard task={mockTask} onTaskClick={mockOnClick} />
    )
    
    expect(getByText(mockTask.title)).toBeInTheDocument()
    expect(getByText(mockTask.description)).toBeInTheDocument()
    expect(getByText(mockTask.assignee.name)).toBeInTheDocument()
  })

  test('calls onTaskClick when clicked', () => {
    const { container } = render(
      <TaskCard task={mockTask} onTaskClick={mockOnClick} />
    )
    
    fireEvent.click(container.firstChild)
    expect(mockOnClick).toHaveBeenCalledWith(mockTask)
  })
})
```

## ğŸš€ éƒ¨ç½²ç­–ç•¥

### å¤šç«¯ç¼–è¯‘é…ç½®
```javascript
// config/index.js
module.exports = function (merge) {
  const baseConfig = {
    // åŸºç¡€é…ç½®
  }
  
  if (process.env.TARO_ENV === 'weapp') {
    // å¾®ä¿¡å°ç¨‹åºç‰¹æœ‰é…ç½®
    return merge({}, baseConfig, {
      mini: {
        webpackChain(chain) {
          // å¾®ä¿¡å°ç¨‹åºä¼˜åŒ–é…ç½®
        }
      }
    })
  }
  
  if (process.env.TARO_ENV === 'h5') {
    // H5ç‰¹æœ‰é…ç½®
    return merge({}, baseConfig, {
      h5: {
        publicPath: '/',
        router: {
          mode: 'hash'
        }
      }
    })
  }
  
  return baseConfig
}
```

### CI/CDæµæ°´çº¿
```yaml
# .github/workflows/deploy.yml
name: Deploy Multi Platform

on:
  push:
    branches: [ main ]

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v2
    
    - name: Setup Node.js
      uses: actions/setup-node@v2
      with:
        node-version: '16'
        
    - name: Install dependencies
      run: npm ci
      
    - name: Build WeChat Mini Program
      run: npm run build:weapp
      
    - name: Build H5
      run: npm run build:h5
      
    - name: Deploy H5 to CDN
      run: |
        # éƒ¨ç½²H5ç‰ˆæœ¬åˆ°CDN
        
    - name: Upload Mini Program
      run: |
        # ä¸Šä¼ å°ç¨‹åºåˆ°å¾®ä¿¡å¼€å‘è€…å·¥å…·
```

## ğŸ‰ è¿ç§»åçš„æ”¶ç›Š

### æŠ€æœ¯æ”¶ç›Š
1. **ä¸€å¥—ä»£ç ï¼Œå¤šç«¯è¿è¡Œ**: å¤§å¹…é™ä½ç»´æŠ¤æˆæœ¬
2. **æ›´å¥½çš„å°ç¨‹åºæ€§èƒ½**: åŸç”Ÿå°ç¨‹åºä½“éªŒ
3. **ç»Ÿä¸€çš„å¼€å‘å·¥å…·é“¾**: æå‡å¼€å‘æ•ˆç‡
4. **æ›´ä¸°å¯Œçš„å¹³å°API**: è®¿é—®æ›´å¤šå°ç¨‹åºèƒ½åŠ›

### ä¸šåŠ¡æ”¶ç›Š
1. **æ›´å¿«çš„è¿­ä»£é€Ÿåº¦**: å¤šç«¯åŒæ­¥å‘å¸ƒ
2. **æ›´ä½çš„å¼€å‘æˆæœ¬**: å‡å°‘é‡å¤å¼€å‘
3. **æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ**: åŸç”Ÿå°ç¨‹åºæ€§èƒ½
4. **æ›´å¹¿çš„ç”¨æˆ·è¦†ç›–**: æ”¯æŒå¤šä¸ªå°ç¨‹åºå¹³å°

### é•¿æœŸæ”¶ç›Š
1. **æŠ€æœ¯æ ˆæ ‡å‡†åŒ–**: ç»Ÿä¸€çš„æŠ€æœ¯é€‰å‹
2. **å›¢é˜Ÿèƒ½åŠ›æå‡**: æŒæ¡å¤šç«¯å¼€å‘æŠ€èƒ½
3. **ä¸šåŠ¡æ‰©å±•èƒ½åŠ›**: å¿«é€Ÿé€‚é…æ–°å¹³å°
4. **ç»´æŠ¤æˆæœ¬é™ä½**: ä»£ç å¤ç”¨ç‡æå‡

## ğŸ“š ç›¸å…³èµ„æºå’Œæ–‡æ¡£

### å®˜æ–¹æ–‡æ¡£
- [Taroå®˜æ–¹æ–‡æ¡£](https://taro-docs.jd.com/)
- [NutUI Reactç‰ˆæ–‡æ¡£](https://nutui.jd.com/react/)
- [å¾®ä¿¡å°ç¨‹åºå¼€å‘æ–‡æ¡£](https://developers.weixin.qq.com/miniprogram/dev/)

### å­¦ä¹ èµ„æº
- [Taroæœ€ä½³å®è·µ](https://taro-docs.jd.com/blog)
- [NutUIç»„ä»¶ç¤ºä¾‹](https://nutui.jd.com/react/#/zh-CN/component/button)
- [å°ç¨‹åºæ€§èƒ½ä¼˜åŒ–æŒ‡å—](https://developers.weixin.qq.com/miniprogram/dev/framework/performance/)

### ç¤¾åŒºæ”¯æŒ
- [Taro GitHub](https://github.com/NervJS/taro)
- [NutUI GitHub](https://github.com/jdf2e/nutui)
- [Taro Discordç¤¾åŒº](https://discord.gg/taro)

---

**æœ¬è¿ç§»æ–¹æ¡ˆç¡®ä¿åœ¨ä¿æŒ100%ä¸šåŠ¡åŠŸèƒ½å’Œ95%ä»¥ä¸ŠUIä¸€è‡´æ€§çš„å‰æä¸‹ï¼ŒæˆåŠŸè¿ç§»åˆ°Taro + NutUIæŠ€æœ¯æ ˆï¼Œå®ç°ä¸€å¥—ä»£ç å¤šç«¯è¿è¡Œçš„ç›®æ ‡ã€‚**